<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- zjc_users_info[zjc_users_info]SQL自动映射 -->
<!--  注意:此文件由AOS平台自动生成-禁止手工修改 2017-06-15 09:22:16 -->
<mapper namespace="com.zjc.users.dao.ZjcUsersInfoDao">


	<resultMap id="queryForListMap" type="com.zjc.users.dao.po.ZjcUsersInfoPO">  
        <id column="user_id" property="user_id" jdbcType="VARCHAR"/>  
        <result column="email" property="email" jdbcType="VARCHAR"/>
        <result column="password" property="password" jdbcType="VARCHAR"/>
        <result column="pay_password" property="pay_password" jdbcType="VARCHAR"/>
        <result column="sex" property="sex" jdbcType="VARCHAR"/>
        <result column="birthday" property="birthday" jdbcType="VARCHAR"/>
        <result column="reg_time" property="reg_time" jdbcType="VARCHAR"/>
        <result column="last_login" property="last_login" jdbcType="VARCHAR"/>
        <result column="last_ip" property="last_ip" jdbcType="VARCHAR"/>
        <result column="qq" property="qq" jdbcType="VARCHAR"/>
        <result column="mobile" property="mobile" jdbcType="VARCHAR"/>
        <result column="mobile_validated" property="mobile_validated" jdbcType="VARCHAR"/>
        <result column="oauth" property="oauth" jdbcType="VARCHAR"/>
        <result column="openid" property="openid" jdbcType="VARCHAR"/>
        <result column="openid_s" property="openid_s" jdbcType="VARCHAR"/>
        <result column="head_pic" property="head_pic" jdbcType="VARCHAR"/>
        <result column="email_validated" property="email_validated" jdbcType="VARCHAR"/>
        <result column="nickname" property="nickname" jdbcType="VARCHAR"/>
        <result column="level" property="level" jdbcType="VARCHAR"/>
        <result column="is_distribut" property="is_distribut" jdbcType="VARCHAR"/>
        <result column="first_leader" property="first_leader" jdbcType="VARCHAR"/>
        <result column="second_leader" property="second_leader" jdbcType="VARCHAR"/>
        <result column="third_leader" property="third_leader" jdbcType="VARCHAR"/>
        <result column="token" property="token" jdbcType="VARCHAR"/>
        <result column="token_validate_time" property="token_validate_time" jdbcType="VARCHAR"/>
        <result column="recommended_code" property="recommended_code" jdbcType="VARCHAR"/>
        <result column="is_qualified_member" property="is_qualified_member" jdbcType="VARCHAR"/>
        <result column="id_card" property="id_card" jdbcType="VARCHAR"/>
        <result column="real_name" property="real_name" jdbcType="VARCHAR"/>
        <result column="qualified_member" property="qualified_member" jdbcType="VARCHAR"/>
        <result column="store_id" property="store_id" jdbcType="VARCHAR"/>
        <result column="is_open_min_pay" property="is_open_min_pay" jdbcType="VARCHAR"/>
        <result column="authentication" property="authentication" jdbcType="VARCHAR"/>
        <result column="is_lock" property="is_lock" jdbcType="VARCHAR"/>
        <result column="clientid" property="clientid" jdbcType="VARCHAR"/>
        <result column="src_client" property="src_client" jdbcType="VARCHAR"/>
        <result column="provincial_generation" property="provincial_generation" jdbcType="VARCHAR"/>
        <result column="bank_card" property="bank_card" jdbcType="VARCHAR"/>
        <result column="where_it_is" property="where_it_is" jdbcType="VARCHAR"/>
        <collection property="ZjcUsersAccountInfoPO"  ofType="com.zjc.users.dao.po.ZjcUsersAccountInfoPO">  
            <id column="user_id" property="user_id" jdbcType="VARCHAR" />
            <result column="user_money" property="user_money" jdbcType="VARCHAR"/>
            <result column="frozen_money" property="frozen_money" jdbcType="VARCHAR"/>
            <result column="distribut_money" property="distribut_money" jdbcType="VARCHAR"/>
            <result column="pay_points" property="pay_points" jdbcType="VARCHAR"/>
            <result column="total_amount" property="total_amount" jdbcType="VARCHAR"/>
            <result column="make_over_integral" property="make_over_integral" jdbcType="VARCHAR"/>
            <result column="wallet_quota" property="wallet_quota" jdbcType="VARCHAR"/>
            <result column="settlement_center" property="settlement_center" jdbcType="VARCHAR"/>
            <result column="settlement_center_tc" property="settlement_center_tc" jdbcType="VARCHAR"/>
            <result column="settlement_center_stime" property="settlement_center_stime" jdbcType="VARCHAR"/>
            <result column="settlement_center_etime" property="settlement_center_etime" jdbcType="VARCHAR"/>
            <result column="reg_giving_points" property="reg_giving_points" jdbcType="VARCHAR"/>
            <result column="return_points" property="return_points" jdbcType="VARCHAR"/>
            <result column="due_tc_points" property="due_tc_points" jdbcType="VARCHAR"/>
            <result column="practical_tc_points" property="practical_tc_points" jdbcType="VARCHAR"/>
            <result column="count_wallet_quota" property="count_wallet_quota" jdbcType="VARCHAR"/>
            <result column="has_terminal" property="has_terminal" jdbcType="VARCHAR"/>
            <result column="sqvip" property="sqvip" jdbcType="VARCHAR"/>
            <result column="sqamount" property="sqamount" jdbcType="VARCHAR"/>
            <result column="sqpay" property="sqpay" jdbcType="VARCHAR"/>
            <result column="jf_sum" property="jf_sum" jdbcType="INTEGER"/>
            <result column="is_lock" property="is_lock" jdbcType="INTEGER"/>
            <result column="acc_is_lock" property="acc_is_lock" jdbcType="VARCHAR"/>
            <result column="drops" property="drops" jdbcType="INTEGER"/>
        </collection>  
    </resultMap>  
    
    <resultMap id="queryForListMap2" type="com.zjc.users.dao.po.ZjcUsersInfoPO2">  
        <id column="user_id" property="user_id" jdbcType="VARCHAR"/>  
        <result column="email" property="email" jdbcType="VARCHAR"/>
        <result column="password" property="password" jdbcType="VARCHAR"/>
        <result column="pay_password" property="pay_password" jdbcType="VARCHAR"/>
        <result column="sex" property="sex" jdbcType="VARCHAR"/>
        <result column="birthday" property="birthday" jdbcType="VARCHAR"/>
        <result column="reg_time" property="reg_time" jdbcType="VARCHAR"/>
        <result column="last_login" property="last_login" jdbcType="VARCHAR"/>
        <result column="last_ip" property="last_ip" jdbcType="VARCHAR"/>
        <result column="qq" property="qq" jdbcType="VARCHAR"/>
        <result column="mobile" property="mobile" jdbcType="VARCHAR"/>
        <result column="mobile_validated" property="mobile_validated" jdbcType="VARCHAR"/>
        <result column="oauth" property="oauth" jdbcType="VARCHAR"/>
        <result column="openid" property="openid" jdbcType="VARCHAR"/>
        <result column="openid_s" property="openid_s" jdbcType="VARCHAR"/>
        <result column="head_pic" property="head_pic" jdbcType="VARCHAR"/>
        <result column="email_validated" property="email_validated" jdbcType="VARCHAR"/>
        <result column="nickname" property="nickname" jdbcType="VARCHAR"/>
        <result column="level" property="level" jdbcType="VARCHAR"/>
        <result column="is_distribut" property="is_distribut" jdbcType="VARCHAR"/>
        <result column="first_leader" property="first_leader" jdbcType="VARCHAR"/>
        <result column="second_leader" property="second_leader" jdbcType="VARCHAR"/>
        <result column="third_leader" property="third_leader" jdbcType="VARCHAR"/>
        <result column="token" property="token" jdbcType="VARCHAR"/>
        <result column="token_validate_time" property="token_validate_time" jdbcType="VARCHAR"/>
        <result column="recommended_code" property="recommended_code" jdbcType="VARCHAR"/>
        <result column="is_qualified_member" property="is_qualified_member" jdbcType="VARCHAR"/>
        <result column="id_card" property="id_card" jdbcType="VARCHAR"/>
        <result column="real_name" property="real_name" jdbcType="VARCHAR"/>
        <result column="qualified_member" property="qualified_member" jdbcType="VARCHAR"/>
        <result column="store_id" property="store_id" jdbcType="VARCHAR"/>
        <result column="is_open_min_pay" property="is_open_min_pay" jdbcType="VARCHAR"/>
        <result column="authentication" property="authentication" jdbcType="VARCHAR"/>
        <result column="is_lock" property="is_lock" jdbcType="VARCHAR"/>
        <result column="clientid" property="clientid" jdbcType="VARCHAR"/>
        <result column="src_client" property="src_client" jdbcType="VARCHAR"/>
        <result column="settlement_center_tc" property="settlement_center_tc" jdbcType="VARCHAR"/>
         <result column="provincial_generation" property="provincial_generation" jdbcType="VARCHAR"/>
        <result column="bank_card" property="bank_card" jdbcType="VARCHAR"/>
        <result column="where_it_is" property="where_it_is" jdbcType="VARCHAR"/>
        <collection property="ZjcUsersAccountInfoPO"  ofType="com.zjc.users.dao.po.ZjcUsersAccountInfoPO">  
            <id column="user_id" property="user_id" jdbcType="VARCHAR" />
            <result column="user_money" property="user_money" jdbcType="VARCHAR"/>
            <result column="frozen_money" property="frozen_money" jdbcType="VARCHAR"/>
            <result column="distribut_money" property="distribut_money" jdbcType="VARCHAR"/>
            <result column="pay_points" property="pay_points" jdbcType="VARCHAR"/>
            <result column="total_amount" property="total_amount" jdbcType="VARCHAR"/>
            <result column="make_over_integral" property="make_over_integral" jdbcType="VARCHAR"/>
            <result column="wallet_quota" property="wallet_quota" jdbcType="VARCHAR"/>
            <result column="settlement_center" property="settlement_center" jdbcType="VARCHAR"/>
            <result column="settlement_center_stime" property="settlement_center_stime" jdbcType="VARCHAR"/>
            <result column="settlement_center_etime" property="settlement_center_etime" jdbcType="VARCHAR"/>
            <result column="reg_giving_points" property="reg_giving_points" jdbcType="VARCHAR"/>
            <result column="return_points" property="return_points" jdbcType="VARCHAR"/>
            <result column="due_tc_points" property="due_tc_points" jdbcType="VARCHAR"/>
            <result column="practical_tc_points" property="practical_tc_points" jdbcType="VARCHAR"/>
            <result column="count_wallet_quota" property="count_wallet_quota" jdbcType="VARCHAR"/>
            <result column="has_terminal" property="has_terminal" jdbcType="VARCHAR"/>
            <result column="sqvip" property="sqvip" jdbcType="VARCHAR"/>
            <result column="sqamount" property="sqamount" jdbcType="VARCHAR"/>
            <result column="sqpay" property="sqpay" jdbcType="VARCHAR"/>
        </collection>  
    </resultMap>  
    
    <resultMap id="queryForAddress" type="com.zjc.users.dao.po.ZjcUsersInfoPO">  
        <id column="user_id" property="user_id" jdbcType="VARCHAR"/>  
        <result column="email" property="email" jdbcType="VARCHAR"/>
        <result column="password" property="password" jdbcType="VARCHAR"/>
        <result column="pay_password" property="pay_password" jdbcType="VARCHAR"/>
        <result column="sex" property="sex" jdbcType="VARCHAR"/>
        <result column="birthday" property="birthday" jdbcType="VARCHAR"/>
        <result column="reg_time" property="reg_time" jdbcType="VARCHAR"/>
        <result column="last_login" property="last_login" jdbcType="VARCHAR"/>
        <result column="last_ip" property="last_ip" jdbcType="VARCHAR"/>
        <result column="qq" property="qq" jdbcType="VARCHAR"/>
        <result column="mobile" property="mobile" jdbcType="VARCHAR"/>
        <result column="mobile_validated" property="mobile_validated" jdbcType="VARCHAR"/>
        <result column="oauth" property="oauth" jdbcType="VARCHAR"/>
        <result column="openid" property="openid" jdbcType="VARCHAR"/>
        <result column="openid_s" property="openid_s" jdbcType="VARCHAR"/>
        <result column="head_pic" property="head_pic" jdbcType="VARCHAR"/>
        <result column="email_validated" property="email_validated" jdbcType="VARCHAR"/>
        <result column="nickname" property="nickname" jdbcType="VARCHAR"/>
        <result column="level" property="level" jdbcType="VARCHAR"/>
        <result column="is_distribut" property="is_distribut" jdbcType="VARCHAR"/>
        <result column="first_leader" property="first_leader" jdbcType="VARCHAR"/>
        <result column="second_leader" property="second_leader" jdbcType="VARCHAR"/>
        <result column="third_leader" property="third_leader" jdbcType="VARCHAR"/>
        <result column="token" property="token" jdbcType="VARCHAR"/>
        <result column="token_validate_time" property="token_validate_time" jdbcType="VARCHAR"/>
        <result column="recommended_code" property="recommended_code" jdbcType="VARCHAR"/>
        <result column="is_qualified_member" property="is_qualified_member" jdbcType="VARCHAR"/>
        <result column="id_card" property="id_card" jdbcType="VARCHAR"/>
        <result column="real_name" property="real_name" jdbcType="VARCHAR"/>
        <result column="qualified_member" property="qualified_member" jdbcType="VARCHAR"/>
        <result column="store_id" property="store_id" jdbcType="VARCHAR"/>
        <result column="is_open_min_pay" property="is_open_min_pay" jdbcType="VARCHAR"/>
        <result column="authentication" property="authentication" jdbcType="VARCHAR"/>
        <result column="is_lock" property="is_lock" jdbcType="VARCHAR"/>
        <result column="clientid" property="clientid" jdbcType="VARCHAR"/>
        <result column="src_client" property="src_client" jdbcType="VARCHAR"/>
         <result column="provincial_generation" property="provincial_generation" jdbcType="VARCHAR"/>
        <result column="bank_card" property="bank_card" jdbcType="VARCHAR"/>
        <result column="where_it_is" property="where_it_is" jdbcType="VARCHAR"/>
        <collection property="ZjcUserAddressPO"  ofType="com.zjc.users.dao.po.ZjcUserAddressPO">  
            <id column="address_id" property="address_id" jdbcType="VARCHAR" />
            <result column="user_id" property="user_id" jdbcType="VARCHAR"/>
            <result column="consignee" property="consignee" jdbcType="VARCHAR"/>
            <result column="email" property="email" jdbcType="VARCHAR"/>
            <result column="country" property="country" jdbcType="VARCHAR"/>
            <result column="province" property="province" jdbcType="VARCHAR"/>
            <result column="city" property="city" jdbcType="VARCHAR"/>
            <result column="district" property="district" jdbcType="VARCHAR"/>
            <result column="twon" property="twon" jdbcType="VARCHAR"/>
            <result column="area_info" property="area_info" jdbcType="VARCHAR"/>
            <result column="twon_name" property="twon_name" jdbcType="VARCHAR"/>
            <result column="address" property="address" jdbcType="VARCHAR"/>
            <result column="address_info" property="address_info" jdbcType="VARCHAR"/>
            <result column="zipcode" property="zipcode" jdbcType="VARCHAR"/>
            <result column="mobile" property="mobile" jdbcType="VARCHAR"/>
            <result column="is_default" property="is_default" jdbcType="VARCHAR"/>
            <result column="is_pickup" property="is_pickup" jdbcType="VARCHAR"/>
        </collection>  
    </resultMap>  
	
	<!-- 插入一个数据持久化对象(插入字段为传入PO实体的非空属性) -->
	<insert id="insert" useGeneratedKeys="true" keyProperty="user_id" parameterType="ZjcUsersInfoPO">
		INSERT INTO zjc_users_info (
		<if test="email != null and email != ''">
	         email, <!-- 邮件 -->
		</if>
		<if test="password != null and password != ''">
	         password, <!-- 密码 -->
		</if>
		<if test="pay_password != null and pay_password != ''">
	         pay_password, <!-- 支付密码 -->
		</if>
		<if test="sex != null">
	         sex, <!-- 0 保密 1 男 2 女 -->
		</if>
		<if test="birthday != null">
	         birthday, <!-- 生日 -->
		</if>
		<if test="reg_time != null and reg_time != ''">
	         reg_time, <!-- 注册时间 -->
		</if>
		<if test="last_login != null and last_login != ''">
	         last_login, <!-- 最后登录时间 -->
		</if>
		<if test="last_ip != null and last_ip != ''">
	         last_ip, <!-- 最后登录ip -->
		</if>
		<if test="qq != null and qq != ''">
	         qq, <!-- QQ -->
		</if>
		<if test="mobile != null and mobile != ''">
	         mobile, <!-- 手机号码 -->
		</if>
		<if test="mobile_validated != null">
	         mobile_validated, <!-- 是否验证手机 -->
		</if>
		<if test="oauth != null and oauth != ''">
	         oauth, <!-- 第三方来源 wx weibo alipay -->
		</if>
		<if test="openid != null and openid != ''">
	         openid, <!-- 微信openID -->
		</if>
		<if test="openid_s != null and openid_s != ''">
	         openid_s, <!-- 微信openID -->
		</if>
		<if test="head_pic != null and head_pic != ''">
	         head_pic, <!-- 头像 -->
		</if>
		<if test="email_validated != null">
	         email_validated, <!-- 是否验证电子邮箱 -->
		</if>
		<if test="nickname != null and nickname != ''">
	         nickname, <!-- 第三方返回昵称 -->
		</if>
		<if test="level != null and level != ''">
	         level, <!-- 会员等级 -->
		</if>
		<if test="discount != null">
	         discount, <!-- 会员折扣，默认1不享受 -->
		</if>
		<if test="is_distribut != null">
	         is_distribut, <!-- 是否为分销商 0 否 1 是 -->
		</if>
		<if test="first_leader != null">
	         first_leader, <!-- 上级 -->
		</if>
		<if test="second_leader != null">
	         second_leader, <!-- 上上级 -->
		</if>
		<if test="third_leader != null">
	         third_leader, <!-- 第三个上级 -->
		</if>
		<if test="token != null and token != ''">
	         token, <!-- 用于app 授权类似于session_id -->
		</if>
		<if test="token_validate_time != null">
	         token_validate_time, <!-- token有效期 -->
		</if>
		<if test="recommended_code != null and recommended_code != ''">
	         recommended_code, <!-- 会员推荐码 -->
		</if>
		<if test="is_qualified_member != null">
	         is_qualified_member, <!-- 是否合格会员(0-否，1-是) -->
		</if>
		<if test="id_card != null and id_card != ''">
	         id_card, <!-- 身份证号码 -->
		</if>
		<if test="real_name != null and real_name != ''">
	         real_name, <!-- 真实姓名 -->
		</if>
		<if test="qualified_member != null">
	         qualified_member, <!-- 合格会员数 -->
		</if>
		<if test="store_id != null">
	         store_id, <!-- 店铺ID -->
		</if>
		<if test="is_open_min_pay != null">
	         is_open_min_pay, <!-- 是否打开小额免密支付 -->
		</if>
		<if test="authentication != null">
	         authentication, <!-- 是否实名认证 -->
		</if>
		<if test="is_lock != null">
	         is_lock, <!-- 是否被锁定冻结(0表示启用，1表示冻结锁定) -->
		</if>
		<if test="clientid != null">
	         clientid, <!-- 会员登录时的设备号 -->
		</if>
		<if test="src_client != null">
	         src_client, <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
		<if test="xpt != null">
	         xpt, <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
		<if test="provincial_generation != null">
	         provincial_generation, <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
		<if test="bank_card != null">
	         bank_card, <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
		<if test="where_it_is != null">
	         where_it_is, <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
	          user_id
		)VALUES(
		<if test="email != null and email != ''">
	          #{email, jdbcType=VARCHAR}, <!-- 邮件 -->
	    </if>
		<if test="password != null and password != ''">
	          #{password, jdbcType=VARCHAR}, <!-- 密码 -->
	    </if>
		<if test="pay_password != null and pay_password != ''">
	          #{pay_password, jdbcType=VARCHAR}, <!-- 支付密码 -->
	    </if>
		<if test="sex != null">
	          #{sex, jdbcType=INTEGER}, <!-- 0 保密 1 男 2 女 -->
	    </if>
		<if test="birthday != null">
	          #{birthday, jdbcType=INTEGER}, <!-- 生日 -->
	    </if>
		<if test="reg_time != null and reg_time != ''">
	          #{reg_time, jdbcType=VARCHAR}, <!-- 注册时间 -->
	    </if>
		<if test="last_login != null and last_login != ''">
	          #{last_login, jdbcType=VARCHAR}, <!-- 最后登录时间 -->
	    </if>
		<if test="last_ip != null and last_ip != ''">
	          #{last_ip, jdbcType=VARCHAR}, <!-- 最后登录ip -->
	    </if>
		<if test="qq != null and qq != ''">
	          #{qq, jdbcType=VARCHAR}, <!-- QQ -->
	    </if>
		<if test="mobile != null and mobile != ''">
	          #{mobile, jdbcType=VARCHAR}, <!-- 手机号码 -->
	    </if>
		<if test="mobile_validated != null">
	          #{mobile_validated, jdbcType=INTEGER}, <!-- 是否验证手机 -->
	    </if>
		<if test="oauth != null and oauth != ''">
	          #{oauth, jdbcType=VARCHAR}, <!-- 第三方来源 wx weibo alipay -->
	    </if>
		<if test="openid != null and openid != ''">
	          #{openid, jdbcType=VARCHAR}, <!-- 微信openID -->
	    </if>
	    <if test="openid_s != null and openid_s != ''">
	          #{openid_s, jdbcType=VARCHAR}, <!-- 微信openID -->
	    </if>
		<if test="head_pic != null and head_pic != ''">
	          #{head_pic, jdbcType=VARCHAR}, <!-- 头像 -->
	    </if>
		<if test="email_validated != null">
	          #{email_validated, jdbcType=INTEGER}, <!-- 是否验证电子邮箱 -->
	    </if>
		<if test="nickname != null and nickname != ''">
	          #{nickname, jdbcType=VARCHAR}, <!-- 第三方返回昵称 -->
	    </if>
		<if test="level != null and level != ''">
	          #{level, jdbcType=VARCHAR}, <!-- 会员等级 -->
	    </if>
		<if test="discount != null">
	          #{discount, jdbcType=NUMERIC}, <!-- 会员折扣，默认1不享受 -->
	    </if>
		<if test="is_distribut != null">
	          #{is_distribut, jdbcType=INTEGER}, <!-- 是否为分销商 0 否 1 是 -->
	    </if>
		<if test="first_leader != null">
	          #{first_leader, jdbcType=INTEGER}, <!-- 上级 -->
	    </if>
		<if test="second_leader != null">
	          #{second_leader, jdbcType=INTEGER}, <!-- 上上级 -->
	    </if>
		<if test="third_leader != null">
	          #{third_leader, jdbcType=INTEGER}, <!-- 第三个上级 -->
	    </if>
		<if test="token != null and token != ''">
	          #{token, jdbcType=VARCHAR}, <!-- 用于app 授权类似于session_id -->
	    </if>
		<if test="token_validate_time != null">
	          #{token_validate_time, jdbcType=INTEGER}, <!-- token有效期 -->
	    </if>
		<if test="recommended_code != null and recommended_code != ''">
	          #{recommended_code, jdbcType=VARCHAR}, <!-- 会员推荐码 -->
	    </if>
		<if test="is_qualified_member != null">
	          #{is_qualified_member, jdbcType=INTEGER}, <!-- 是否合格会员(0-否，1-是) -->
	    </if>
		<if test="id_card != null and id_card != ''">
	          #{id_card, jdbcType=VARCHAR}, <!-- 身份证号码 -->
	    </if>
		<if test="real_name != null and real_name != ''">
	          #{real_name, jdbcType=VARCHAR}, <!-- 真实姓名 -->
	    </if>
		<if test="qualified_member != null">
	          #{qualified_member, jdbcType=INTEGER}, <!-- 合格会员数 -->
	    </if>
		<if test="store_id != null">
	          #{store_id, jdbcType=INTEGER}, <!-- 店铺ID -->
	    </if>
		<if test="is_open_min_pay != null">
	          #{is_open_min_pay, jdbcType=INTEGER}, <!-- 是否打开小额免密支付 -->
	    </if>
		<if test="authentication != null">
	          #{authentication, jdbcType=INTEGER}, <!-- 是否实名认证 -->
	    </if>
		<if test="is_lock != null">
	          #{is_lock, jdbcType=INTEGER}, <!-- 是否被锁定冻结(0表示启用，1表示冻结锁定) -->
	    </if>
	    <if test="clientid != null and clientid != ''">
	          #{clientid, jdbcType=VARCHAR}, <!-- 会员登录时的设备号 -->
		</if>
		<if test="src_client != null">
	          #{src_client, jdbcType=INTEGER}, <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
		<if test="xpt != null">
	          #{xpt, jdbcType=INTEGER}, <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
		<if test="provincial_generation != null">
	         #{provincial_generation, jdbcType=VARCHAR}, <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
		<if test="bank_card != null">
	         #{bank_card, jdbcType=VARCHAR},<!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
		<if test="where_it_is != null">
	         #{where_it_is, jdbcType=VARCHAR},<!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
	    <if test="user_id != null">
	          #{user_id, jdbcType=INTEGER} <!-- 会员id -->
		</if>
		)
	</insert>
	
	<!-- 插入一个数据持久化对象(含所有字段) -->
	<insert id="insertAll" useGeneratedKeys="true" keyProperty="user_id" parameterType="ZjcUsersInfoPO">
		INSERT INTO zjc_users_info (
		    <include refid="column" />
		)
		VALUES (
		    #{user_id, jdbcType=INTEGER},  <!-- 表id -->
		    #{email, jdbcType=VARCHAR},  <!-- 邮件 -->
		    #{password, jdbcType=VARCHAR},  <!-- 密码 -->
		    #{pay_password, jdbcType=VARCHAR},  <!-- 支付密码 -->
		    #{sex, jdbcType=INTEGER},  <!-- 0 保密 1 男 2 女 -->
		    #{birthday, jdbcType=INTEGER},  <!-- 生日 -->
		    #{reg_time, jdbcType=VARCHAR},  <!-- 注册时间 -->
		    #{last_login, jdbcType=VARCHAR},  <!-- 最后登录时间 -->
		    #{last_ip, jdbcType=VARCHAR},  <!-- 最后登录ip -->
		    #{qq, jdbcType=VARCHAR},  <!-- QQ -->
		    #{mobile, jdbcType=VARCHAR},  <!-- 手机号码 -->
		    #{mobile_validated, jdbcType=INTEGER},  <!-- 是否验证手机 -->
		    #{oauth, jdbcType=VARCHAR},  <!-- 第三方来源 wx weibo alipay -->
		    #{openid, jdbcType=VARCHAR},  <!-- 微信openID -->
		    #{openid_s, jdbcType=VARCHAR},  <!-- 微信openID -->
		    #{head_pic, jdbcType=VARCHAR},  <!-- 头像 -->
		    #{email_validated, jdbcType=INTEGER},  <!-- 是否验证电子邮箱 -->
		    #{nickname, jdbcType=VARCHAR},  <!-- 第三方返回昵称 -->
		    #{level, jdbcType=VARCHAR},  <!-- 会员等级 -->
		    #{discount, jdbcType=NUMERIC},  <!-- 会员折扣，默认1不享受 -->
		    #{is_distribut, jdbcType=INTEGER},  <!-- 是否为分销商 0 否 1 是 -->
		    #{first_leader, jdbcType=INTEGER},  <!-- 上级 -->
		    #{second_leader, jdbcType=INTEGER},  <!-- 上上级 -->
		    #{third_leader, jdbcType=INTEGER},  <!-- 第三个上级 -->
		    #{token, jdbcType=VARCHAR},  <!-- 用于app 授权类似于session_id -->
		    #{token_validate_time, jdbcType=INTEGER},  <!-- token有效期 -->
		    #{recommended_code, jdbcType=VARCHAR},  <!-- 会员推荐码 -->
		    #{is_qualified_member, jdbcType=INTEGER},  <!-- 是否合格会员(0-否，1-是) -->
		    #{id_card, jdbcType=VARCHAR},  <!-- 身份证号码 -->
		    #{real_name, jdbcType=VARCHAR},  <!-- 真实姓名 -->
		    #{qualified_member, jdbcType=INTEGER},  <!-- 合格会员数 -->
		    #{store_id, jdbcType=INTEGER},  <!-- 店铺ID -->
		    #{is_open_min_pay, jdbcType=INTEGER},  <!-- 是否打开小额免密支付 -->
		    #{authentication, jdbcType=INTEGER},  <!-- 是否实名认证 -->
		    #{is_lock, jdbcType=INTEGER},  <!-- 是否被锁定冻结(0表示启用，1表示冻结锁定) -->
		    #{clientid, jdbcType=VARCHAR},  <!-- 会员登录时的设备号 -->
		    #{src_client, jdbcType=INTEGER},  <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		    #{xpt, jdbcType=VARCHAR},
		    #{provincial_generation, jdbcType=VARCHAR},
		    #{bank_card, jdbcType=VARCHAR},
	        #{where_it_is, jdbcType=VARCHAR},<!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
	        #{user_id, jdbcType=INTEGER} <!-- 会员id -->
		)
	</insert>

	<!-- 根据主键修改数据持久化对象 -->
	<update id="updateByKey" parameterType="ZjcUsersInfoPO">
		UPDATE zjc_users_info
		<set>
			<if test="user_id != null">
		          user_id = #{user_id, jdbcType=INTEGER},  <!-- 表id -->
			</if>
			<if test="email != null">
		          email = #{email, jdbcType=VARCHAR},  <!-- 邮件 -->
			</if>
			<if test="password != null">
		          password = #{password, jdbcType=VARCHAR},  <!-- 密码 -->
			</if>
			<if test="pay_password != null">
		          pay_password = #{pay_password, jdbcType=VARCHAR},  <!-- 支付密码 -->
			</if>
			<if test="sex != null">
		          sex = #{sex, jdbcType=INTEGER},  <!-- 0 保密 1 男 2 女 -->
			</if>
			<if test="birthday != null">
		          birthday = #{birthday, jdbcType=INTEGER},  <!-- 生日 -->
			</if>
			<if test="reg_time != null">
		          reg_time = #{reg_time, jdbcType=VARCHAR},  <!-- 注册时间 -->
			</if>
			<if test="last_login != null">
		          last_login = #{last_login, jdbcType=VARCHAR},  <!-- 最后登录时间 -->
			</if>
			<if test="last_ip != null">
		          last_ip = #{last_ip, jdbcType=VARCHAR},  <!-- 最后登录ip -->
			</if>
			<if test="qq != null">
		          qq = #{qq, jdbcType=VARCHAR},  <!-- QQ -->
			</if>
			<if test="mobile != null">
		          mobile = #{mobile, jdbcType=VARCHAR},  <!-- 手机号码 -->
			</if>
			<if test="mobile_validated != null">
		          mobile_validated = #{mobile_validated, jdbcType=INTEGER},  <!-- 是否验证手机 -->
			</if>
			<if test="oauth != null">
		          oauth = #{oauth, jdbcType=VARCHAR},  <!-- 第三方来源 wx weibo alipay -->
			</if>
			<if test="openid != null">
		          openid = #{openid, jdbcType=VARCHAR},  <!-- 微信openID -->
			</if>
			<if test="openid_s != null">
		          openid_s = #{openid_s, jdbcType=VARCHAR},  <!-- 微信openID -->
			</if>
			<if test="head_pic != null">
		          head_pic = #{head_pic, jdbcType=VARCHAR},  <!-- 头像 -->
			</if>
			<if test="email_validated != null">
		          email_validated = #{email_validated, jdbcType=INTEGER},  <!-- 是否验证电子邮箱 -->
			</if>
			<if test="nickname != null and nickname !=''">
		          nickname = #{nickname, jdbcType=VARCHAR},  <!-- 第三方返回昵称 -->
			</if>
			<if test="level != null">
		          level = #{level, jdbcType=VARCHAR},  <!-- 会员等级 -->
			</if>
			<if test="discount != null">
		          discount = #{discount, jdbcType=NUMERIC},  <!-- 会员折扣，默认1不享受 -->
			</if>
			<if test="is_distribut != null">
		          is_distribut = #{is_distribut, jdbcType=INTEGER},  <!-- 是否为分销商 0 否 1 是 -->
			</if>
			<if test="first_leader != null">
		          first_leader = #{first_leader, jdbcType=INTEGER},  <!-- 上级 -->
			</if>
			<if test="second_leader != null">
		          second_leader = #{second_leader, jdbcType=INTEGER},  <!-- 上上级 -->
			</if>
			<if test="third_leader != null">
		          third_leader = #{third_leader, jdbcType=INTEGER},  <!-- 第三个上级 -->
			</if>
			<if test="token != null">
		          token = #{token, jdbcType=VARCHAR},  <!-- 用于app 授权类似于session_id -->
			</if>
			<if test="token_validate_time != null">
		          token_validate_time = #{token_validate_time, jdbcType=INTEGER},  <!-- token有效期 -->
			</if>
			<if test="recommended_code != null">
		          recommended_code = #{recommended_code, jdbcType=VARCHAR},  <!-- 会员推荐码 -->
			</if>
			<if test="is_qualified_member != null">
		          is_qualified_member = #{is_qualified_member, jdbcType=INTEGER},  <!-- 是否合格会员(0-否，1-是) -->
			</if>
			<if test="id_card != null">
		          id_card = #{id_card, jdbcType=VARCHAR},  <!-- 身份证号码 -->
			</if>
			<if test="real_name != null">
		          real_name = #{real_name, jdbcType=VARCHAR},  <!-- 真实姓名 -->
			</if>
			<if test="qualified_member != null">
		          qualified_member = #{qualified_member, jdbcType=INTEGER},  <!-- 合格会员数 -->
			</if>
			<if test="store_id != null">
		          store_id = #{store_id, jdbcType=INTEGER},  <!-- 店铺ID -->
			</if>
			<if test="is_open_min_pay != null">
		          is_open_min_pay = #{is_open_min_pay, jdbcType=INTEGER},  <!-- 是否打开小额免密支付 -->
			</if>
			<if test="authentication != null">
		          authentication = #{authentication, jdbcType=INTEGER},  <!-- 是否实名认证 -->
			</if>
			<if test="is_lock != null">
		          is_lock = #{is_lock, jdbcType=INTEGER},  <!-- 是否被锁定冻结(0表示启用，1表示冻结锁定) -->
			</if>
			<if test="clientid != null and clientid != ''">
		          clientid = #{clientid, jdbcType=VARCHAR},  <!-- 会员登录时的设备号 -->
			</if>
			<if test="src_client != null">
		          src_client = #{src_client, jdbcType=INTEGER},  <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
			</if>
			<if test="xpt != null">
		          xpt = #{xpt, jdbcType=VARCHAR},  <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
			</if>
			<if test="provincial_generation != null">
		          provincial_generation=#{provincial_generation, jdbcType=VARCHAR},  <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
			</if>
			<if test="bank_card != null">
	            bank_card= #{bank_card, jdbcType=VARCHAR},<!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
			</if>
			<if test="where_it_is != null">
		        where_it_is= #{where_it_is, jdbcType=VARCHAR}<!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
			</if>
		</set>
		WHERE  user_id = #{user_id}
	</update>
	
	<!-- 根据主键删除数据持久化对象 -->
	<delete id="deleteByKey">
		DELETE FROM zjc_users_info WHERE  user_id = #{user_id}
	</delete>

	<!-- 根据主键查询并返回数据持久化对象 -->
	<select id="selectByKey" resultType="ZjcUsersInfoPO">
		SELECT
		<include refid="column" />
		FROM zjc_users_info WHERE  user_id = #{user_id}
	</select>

	<!-- 查找用户的一级上级ID -->
	<select id="firstLeader" resultType="Integer" parameterType="Integer">
		select first_leader from zjc_users_info where user_id = #{user_id}
	</select>
	
	<!-- 查找用户的二级上级ID -->
	<select id="secondLeader" resultType="Integer" parameterType="Integer">
		
		select second_leader from zjc_users_info where user_id = #{user_id}
	</select>
	<!-- 查找用户合格自会员数 -->
	<select id="qualifiedMember" resultType="Integer" parameterType="Integer">
		select qualified_member from zjc_users_info where user_id = #{user_id}
	</select>
	<!-- 查找用户会员数 -->
	<select id="member" resultType="Integer" parameterType="Integer">
		select count(user_id) from zjc_users_info where first_leader = #{user_id}
	</select>
	<!-- 根据唯一组合条件查询并返回数据持久化对象 -->
	<select id="selectOne" parameterType="Dto" resultType="ZjcUsersInfoPO">
		SELECT
		    <include refid="column2" />
		FROM zjc_users_info
		<where>
		    <include refid="equal" />
		</where>		
	</select>
	
	<select id="selectDto" parameterType="Dto" resultType="ZjcUsersInfoPO">
		SELECT
		    <include refid="column" />
		FROM zjc_users_info
		<where>
			    mobile = #{mobile} or openid = #{openid}
		</where>		
	</select>
	
	<!-- 根据实体查询并返回数据持久化对象（新增） -->
	<select id="selectByUseriInfoPO" parameterType="ZjcUsersInfoPO" resultType="ZjcUsersInfoPO">
		SELECT
		    <include refid="column2" />
		FROM zjc_users_info
		<where>
		    <include refid="equal" />
		</where>		
	</select>
	<!-- 获取上级数据 -->
	<select id="firstleader" parameterType="ZjcUsersInfoPO" resultType="ZjcUsersInfoPO">
		select
         <include refid="column" />	
		from zjc_users_info t1 where t1.user_id =
         (select t.first_leader from zjc_users_info t where t.user_id = #{user_id})
	</select>

	<!-- 根据Dto查询并返回数据持久化对象集合 -->
	<select id="list" parameterType="Dto" resultType="ZjcUsersInfoPO">
		SELECT
			<include refid="column" />	
		FROM zjc_users_info
		<where>
		    <include refid="equal" />
		</where>	
	</select>
    
    <!-- 根据Dto查询并返回数据持久化对象集合 -->
	<select id="listOpenId" parameterType="Dto" resultType="ZjcUsersInfoPO">
		SELECT * from zjc_users_info t where t.openid_s is not null 
	</select>
    
 <select id="sharelist" parameterType="ZjcUsersInfoPO" resultType="ZjcUsersInfoPO">
		SELECT * from zjc_users_info t where t.mobile=#{mobile} or t.openid=#{openid}
	</select>
    
    <!-- 查询用户积分日志信息 -->
	<select id="queryLog" parameterType="Dto"  resultMap="queryForListMap" useCache="false">
	    select 
           t1.real_name,t1.mobile,t1.last_login,t2.pay_points
        FROM zjc_users_info t1 
		LEFT JOIN zjc_users_account_info t2 on t1.user_id=t2.user_id
         <where>
		  t1.user_id = #{user_id}
		</where>	
	</select>
  
	<!-- 根据Dto查询并返回分页数据持久化对象集合 -->
	<select id="queryForListPage" parameterType="Dto"  resultMap="queryForListMap" useCache="false">
	    SELECT
			t.user_id,t.real_name,t1.total_amount
      ,t1.user_money,t1.wallet_quota,t1.count_wallet_quota,t1.pay_points
      ,t1.practical_tc_points,t.mobile,t.qualified_member
      ,t.is_qualified_member,t1.settlement_center,t.authentication
      ,t.first_leader,t2.real_name as nickname,t.recommended_code,
       t1.distribut_money,t1.make_over_integral,t.head_pic,t.id_card,
       t.is_lock,t1.has_terminal
        from zjc_users_info t
        left join zjc_users_account_info t1
         on t.user_id=t1.user_id
         left join zjc_users_info t2  on t2.user_id=t.first_leader 
       <where>
            1=1
		   <if test="real_name != null and real_name != ''">
		     	AND t.real_name = #{real_name}  <!-- 真实姓名 -->
		   </if>
		    <if test="recommended_code != null and recommended_code != ''">
		      	AND t.recommended_code = #{recommended_code}  <!-- 会员推荐码 -->
		    </if>
			<if test="id_card != null and id_card != ''">
			    AND t.id_card = #{id_card}  <!-- 身份证号码 -->
			</if>
			<if test="mobile != null and mobile != ''">
			    AND t.mobile = #{mobile}  <!-- 手机号码 -->
			</if>
			<if test="settlement_center != null and settlement_center!=''">
			    AND t1.settlement_center = #{settlement_center}  <!-- 是否开通了结算中心(0-否，1-是) -->
			</if>
		</where>	
		order by t.user_id desc
	</select>
	
	<select id="queryForList2Page" parameterType="Dto"  resultType="Dto" useCache="false">
	    SELECT
			t.user_id,
			t.nickname,
			t.mobile,
			t1.total_amount,
			t1.pay_points,
			t1.make_over_integral,
			t.qualified_member,
			t.is_qualified_member,
			t1.settlement_center,
			t.is_distribut,
			t.reg_time,
			t.first_leader,
			t.authentication,
			ifnull(t.settlement_center_tc, 0) as settlement_center_tc,
			t1.sqvip,
			t2.name as province_name
        from zjc_users_info t
        inner join zjc_users_account_info t1 on t.user_id=t1.user_id
        left join zjc_region t2 on t.provincial_generation = t2.id
      <where>
            <if test="real_name != null and real_name != ''">
		     	AND t.real_name = #{real_name} <!-- 真实姓名 -->
		   </if>
		    <if test="nickname != null and nickname != ''">
		    	AND t.nickname like '${nickname}%'  <!-- 第三方返回昵称 -->
		   </if>
		    <if test="recommended_code != null and recommended_code != ''">
		      	AND t.recommended_code = #{recommended_code}  <!-- 会员推荐码 -->
		    </if>
			<if test="id_card != null and id_card != ''">
			    AND t.id_card = #{id_card}  <!-- 身份证号码 -->
			</if>
			<if test="user_id != null and user_id != ''">
			    AND t.user_id =  #{user_id}  <!-- 会员id -->
			</if>
			<if test="mobile != null and mobile != ''">
			    AND t.mobile = #{mobile} <!-- 手机号码 -->
			</if>
			<if test="settlement_center != null and settlement_center!=''">
			    AND t1.settlement_center = #{settlement_center}  <!-- 是否为分销商 0 否 1 是 -->
			</if>
			<if test="is_distribut != null and is_distribut != ''">
			    AND t.is_distribut = #{is_distribut}  <!-- 是否开通了结算中心(0-否，1-是) -->
			</if>
		</where>	
		order by t.user_id desc
	</select>
	
	 <select id="level" parameterType="java.util.Map" statementType="CALLABLE" >
		{call test004( #{user_id,jdbcType=INTEGER,mode=IN})}  
	</select> 
	
	<!-- 根据Dto模糊查询并返回数据持久化对象集合(字符型字段模糊匹配，其余字段精确匹配) -->
	<select id="like" parameterType="Dto" resultType="ZjcUsersInfoPO">
		SELECT
			<include refid="column" />	
		FROM zjc_users_info
		<where>
		    <include refid="like" />
		</where>	
	</select>

	<!-- 根据Dto模糊查询并返回分页数据持久化对象集合(字符型字段模糊匹配，其余字段精确匹配) -->
	<select id="likePage" parameterType="Dto" resultType="ZjcUsersInfoPO" useCache="false">
	    SELECT
			<include refid="column" />	
		FRoM zjc_users_info 
		<where>
		    <include refid="like" />
		</where>	
	</select>
	
	<!-- 根据Dto模糊查询并返回分页数据持久化对象集合(字符型字段模糊匹配，其余字段精确匹配) -->
	<select id="getUserlevel" parameterType="Dto"  resultMap="queryForListMap" useCache="false">
	    SELECT
	    	t1.user_id,
	    	t1.nickname,
	    	t2.total_amount,
	    	t2.pay_points,
	    	t2.make_over_integral,
	    	t1.mobile,
			t1.real_name,
			t1.head_pic,
			t1.first_leader,
			t1.is_lock,
			t1.id_card,
			t1.openid,
			t2.is_lock AS acc_is_lock,
			t2.settlement_center_tc,
			t2.settlement_center,
			t2.jf_sum,
			IF (t1. `LEVEL` = 1,'普通会员',IF (t1. `LEVEL` = 2,'合格会员',IF (t1. `LEVEL` = 3,'初级易物师',
			IF (t1. `LEVEL` = 4,'中级易物师',IF (t1. `LEVEL` = 5,'高级易物师',
			IF (t1. `LEVEL` = 6,'高级导师',t1. `LEVEL`)))))) AS level
		FROM zjc_users_info t1
		LEFT JOIN zjc_users_account_info t2 ON t1.user_id = t2.user_id where t1.user_id = #{user_id}
	</select>
	
	<!-- 根据user_id查询客户发货地址 -->
	<select id="getUserAddress" parameterType="Dto"  resultMap="queryForAddress" useCache="false">
	   select t.real_name,t.mobile,t1.address_info from zjc_users_info t
       LEFT join zjc_user_address t1 on t1.user_id=t.user_id
         <where>
		  t.user_id = #{user_id}
		</where>	
	</select>
	
	<!-- 根据user_id查询客户-->
	<select id="getUser" parameterType="ZjcSellerInfoPO"  resultType="ZjcUsersInfoPO">
	   select 
	   <include refid="column" />	
	   from zjc_users_info t
         <where>
		  t.user_id = #{recommended_code}
		</where>	
	</select>
	
	<!-- 根据user_id查询客户-->
	<select id="getrealname" parameterType="ZjcUsersInfoPO"  resultType="ZjcUsersInfoPO">
	   select 
	   <include refid="column" />	
	   from zjc_users_info t
         <where>
		  t.user_id = #{user_id}  and t.real_name=#{real_name}
		</where>	
	</select>
	
	<!-- 根据user_id查询客户-->
	<select id="transfer" parameterType="ZjcUsersInfoPO"  resultType="ZjcUsersInfoPO">
	   select 
	   <include refid="column" />	
	   from zjc_users_info t
         <where>
		  t.user_id = #{user_id} and  t.mobile=#{mobile} and t.real_name=#{real_name}
		</where>	
	</select>
	
	
	 <!-- 根据Dto统计行数 -->
	<select id="rows" resultType="Integer" parameterType="Dto">
		SELECT COUNT(1) AS aos_rows_ FROM zjc_users_info t 
		    inner join zjc_users_account_info t1
         on t.user_id=t1.user_id
		<where>
		    <include refid="equal" />
		</where>
	</select>
	
	<!-- 根据数学表达式进行数学运算 -->
	<select id="calc" parameterType="Dto" resultType="String">
		SELECT
			${_expr}
		FROM zjc_users_info
		<where>
		    <include refid="equal" />
		</where>
	</select>
	
	<!-- 表字段 -->
	<sql id="column">
		  user_id,  <!-- 表id -->
		  email,  <!-- 邮件 -->
		  password,  <!-- 密码 -->
		  pay_password,  <!-- 支付密码 -->
		  sex,  <!-- 0 保密 1 男 2 女 -->
		  birthday,  <!-- 生日 -->
		  reg_time,  <!-- 注册时间 -->
		  last_login,  <!-- 最后登录时间 -->
		  last_ip,  <!-- 最后登录ip -->
		  qq,  <!-- QQ -->
		  mobile,  <!-- 手机号码 -->
		  mobile_validated,  <!-- 是否验证手机 -->
		  oauth,  <!-- 第三方来源 wx weibo alipay -->
		  openid,  <!-- 微信openID -->
		  openid_s,  <!-- 微信openID -->
		  head_pic,  <!-- 头像 -->
		  email_validated,  <!-- 是否验证电子邮箱 -->
		  nickname,  <!-- 第三方返回昵称 -->
		  level,  <!-- 会员等级 -->
		  discount,  <!-- 会员折扣，默认1不享受 -->
		  is_distribut,  <!-- 是否为分销商 0 否 1 是 -->
		  first_leader,  <!-- 上级 -->
		  second_leader,  <!-- 上上级 -->
		  third_leader,  <!-- 第三个上级 -->
		  token,  <!-- 用于app 授权类似于session_id -->
		  token_validate_time,  <!-- token有效期 -->
		  recommended_code,  <!-- 会员推荐码 -->
		  is_qualified_member,  <!-- 是否合格会员(0-否，1-是) -->
		  id_card,  <!-- 身份证号码 -->
		  real_name,  <!-- 真实姓名 -->
		  qualified_member,  <!-- 合格会员数 -->
		  store_id,  <!-- 店铺ID -->
		  is_open_min_pay,  <!-- 是否打开小额免密支付 -->
		  authentication,  <!-- 是否实名认证 -->
		  is_lock,  <!-- 是否被锁定冻结(0表示启用，1表示冻结锁定) -->
		  clientid,  <!-- 会员登录时的设备号 -->
		  src_client,  <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		  xpt,
		  provincial_generation,
		  bank_card,
		  where_it_is
	</sql>
	
	<!-- 表字段(用于外表的关联时引用) -->
	<sql id="column2">
		  zjc_users_info.user_id,  <!-- 表id -->
		  zjc_users_info.email,  <!-- 邮件 -->
		  zjc_users_info.password,  <!-- 密码 -->
		  zjc_users_info.pay_password,  <!-- 支付密码 -->
		  zjc_users_info.sex,  <!-- 0 保密 1 男 2 女 -->
		  zjc_users_info.birthday,  <!-- 生日 -->
		  zjc_users_info.reg_time,  <!-- 注册时间 -->
		  zjc_users_info.last_login,  <!-- 最后登录时间 -->
		  zjc_users_info.last_ip,  <!-- 最后登录ip -->
		  zjc_users_info.qq,  <!-- QQ -->
		  zjc_users_info.mobile,  <!-- 手机号码 -->
		  zjc_users_info.mobile_validated,  <!-- 是否验证手机 -->
		  zjc_users_info.oauth,  <!-- 第三方来源 wx weibo alipay -->
		  zjc_users_info.openid,  <!-- 微信unionid -->
		  zjc_users_info.openid_s,  <!-- 微信openID -->
		  zjc_users_info.head_pic,  <!-- 头像 -->
		  zjc_users_info.email_validated,  <!-- 是否验证电子邮箱 -->
		  zjc_users_info.nickname,  <!-- 第三方返回昵称 -->
		  zjc_users_info.level,  <!-- 会员等级 -->
		  zjc_users_info.discount,  <!-- 会员折扣，默认1不享受 -->
		  zjc_users_info.is_distribut,  <!-- 是否为分销商 0 否 1 是 -->
		  zjc_users_info.first_leader,  <!-- 上级 -->
		  zjc_users_info.second_leader,  <!-- 上上级 -->
		  zjc_users_info.third_leader,  <!-- 第三个上级 -->
		  zjc_users_info.token,  <!-- 用于app 授权类似于session_id -->
		  zjc_users_info.token_validate_time,  <!-- token有效期 -->
		  zjc_users_info.recommended_code,  <!-- 会员推荐码 -->
		  zjc_users_info.is_qualified_member,  <!-- 是否合格会员(0-否，1-是) -->
		  zjc_users_info.id_card,  <!-- 身份证号码 -->
		  zjc_users_info.real_name,  <!-- 真实姓名 -->
		  zjc_users_info.qualified_member,  <!-- 合格会员数 -->
		  zjc_users_info.store_id,  <!-- 店铺ID -->
		  zjc_users_info.is_open_min_pay,  <!-- 是否打开小额免密支付 -->
		  zjc_users_info.authentication,  <!-- 是否实名认证 -->
		  zjc_users_info.is_lock,  <!-- 是否被锁定冻结(0表示启用，1表示冻结锁定) -->
		  zjc_users_info.clientid,  <!-- 会员登录时的设备号 -->
		  zjc_users_info.src_client,  <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		  zjc_users_info.xpt,
		  zjc_users_info.provincial_generation,
		  zjc_users_info.bank_card,
		  zjc_users_info.where_it_is
	</sql>

	<!-- Where精确匹配字段 -->
	<sql id="equal">
	   <if test="user_id != null ">
		      AND user_id = #{user_id}  <!-- 表id -->
		</if>
	    <if test="email != null and email != ''">
		      AND email = #{email}  <!-- 邮件 -->
		</if>
	    <if test="password != null and password != ''">
		      AND password = #{password}  <!-- 密码 -->
		</if>
	    <if test="pay_password != null and pay_password != ''">
		      AND pay_password = #{pay_password}  <!-- 支付密码 -->
		</if>
	   <if test="sex != null ">
		      AND sex = #{sex}  <!-- 0 保密 1 男 2 女 -->
		</if>
	   <if test="birthday != null ">
		      AND birthday = #{birthday}  <!-- 生日 -->
		</if>
	    <if test="reg_time != null and reg_time != ''">
		      AND reg_time = #{reg_time}  <!-- 注册时间 -->
		</if>
	    <if test="last_login != null and last_login != ''">
		      AND last_login = #{last_login}  <!-- 最后登录时间 -->
		</if>
	    <if test="last_ip != null and last_ip != ''">
		      AND last_ip = #{last_ip}  <!-- 最后登录ip -->
		</if>
	    <if test="qq != null and qq != ''">
		      AND qq = #{qq}  <!-- QQ -->
		</if>
	    <if test="mobile != null and mobile != ''">
		      AND mobile = #{mobile}  <!-- 手机号码 -->
		</if>
	   <if test="mobile_validated != null ">
		      AND mobile_validated = #{mobile_validated}  <!-- 是否验证手机 -->
		</if>
	    <if test="oauth != null and oauth != ''">
		      AND oauth = #{oauth}  <!-- 第三方来源 wx weibo alipay -->
		</if>
	    <if test="openid != null and openid != ''">
		      AND openid = #{openid}  <!-- 微信openID -->
		</if>
		<if test="openid_s != null and openid_s != ''">
		      AND openid_s = #{openid_s}  <!-- 微信openID -->
		</if>
	    <if test="head_pic != null and head_pic != ''">
		      AND head_pic = #{head_pic}  <!-- 头像 -->
		</if>
	   <if test="email_validated != null ">
		      AND email_validated = #{email_validated}  <!-- 是否验证电子邮箱 -->
		</if>
	    <if test="nickname != null and nickname != ''">
		      AND nickname = #{nickname}  <!-- 第三方返回昵称 -->
		</if>
	    <if test="level != null and level != ''">
		      AND level = #{level}  <!-- 会员等级 -->
		</if>
	   <if test="discount != null ">
		      AND discount = #{discount}  <!-- 会员折扣，默认1不享受 -->
		</if>
	   <if test="is_distribut != null ">
		      AND is_distribut = #{is_distribut}  <!-- 是否为分销商 0 否 1 是 -->
		</if>
	   <if test="first_leader != null ">
		      AND first_leader = #{first_leader}  <!-- 上级 -->
		</if>
	   <if test="second_leader != null ">
		      AND second_leader = #{second_leader}  <!-- 上上级 -->
		</if>
	   <if test="third_leader != null ">
		      AND third_leader = #{third_leader}  <!-- 第三个上级 -->
		</if>
	    <if test="token != null and token != ''">
		      AND token = #{token}  <!-- 用于app 授权类似于session_id -->
		</if>
	   <if test="token_validate_time != null ">
		      AND token_validate_time = #{token_validate_time}  <!-- token有效期 -->
		</if>
	    <if test="recommended_code != null and recommended_code != ''">
		      AND recommended_code = #{recommended_code}  <!-- 会员推荐码 -->
		</if>
	   <if test="is_qualified_member != null ">
		      AND is_qualified_member = #{is_qualified_member}  <!-- 是否合格会员(0-否，1-是) -->
		</if>
	    <if test="id_card != null and id_card != ''">
		      AND id_card = #{id_card}  <!-- 身份证号码 -->
		</if>
	    <if test="real_name != null and real_name != ''">
		      AND real_name = #{real_name}  <!-- 真实姓名 -->
		</if>
	   <if test="qualified_member != null ">
		      AND qualified_member = #{qualified_member}  <!-- 合格会员数 -->
		</if>
	   <if test="store_id != null ">
		      AND store_id = #{store_id}  <!-- 店铺ID -->
		</if>
	   <if test="is_open_min_pay != null ">
		      AND is_open_min_pay = #{is_open_min_pay}  <!-- 是否打开小额免密支付 -->
		</if>
	   <if test="authentication != null ">
		      AND authentication = #{authentication}  <!-- 是否实名认证 -->
		</if>
	   <if test="is_lock != null ">
		      AND is_lock = #{is_lock}  <!-- 是否被锁定冻结(0表示启用，1表示冻结锁定) -->
		</if>
		<if test="clientid != null and clientid != '' ">
		      AND clientid = #{clientid}  <!-- 会员登录时的设备号 -->
		</if>
	    <if test="src_client != null ">
		      AND src_client = #{src_client}  <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
		<if test="provincial_generation != null ">
		      AND provincial_generation = #{provincial_generation}  <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		</if>
	</sql>
	
	<!-- Where精确匹配字段 -->
	<sql id="equal2">
	   <if test="user_id != null and user_id != ''">
		      AND user_id = #{user_id}  <!-- 表id -->
		</if>
	    <if test="pay_password != null and pay_password != ''">
		      AND pay_password = #{pay_password}  <!-- 支付密码 -->
		</if>
	</sql>
	
	<!-- Where模糊匹配字段 -->
	<sql id="like">
	    <if test="email != null and email != ''">
		      AND email like '${email}%'  <!-- 邮件 -->
		</if>
	    <if test="password != null and password != ''">
		      AND password like '${password}%'  <!-- 密码 -->
		</if>
	    <if test="pay_password != null and pay_password != ''">
		      AND pay_password like '${pay_password}%'  <!-- 支付密码 -->
		</if>
	    <if test="reg_time != null and reg_time != ''">
		      AND reg_time like '${reg_time}%'  <!-- 注册时间 -->
		</if>
	    <if test="last_login != null and last_login != ''">
		      AND last_login like '${last_login}%'  <!-- 最后登录时间 -->
		</if>
	    <if test="last_ip != null and last_ip != ''">
		      AND last_ip like '${last_ip}%'  <!-- 最后登录ip -->
		</if>
	    <if test="qq != null and qq != ''">
		      AND qq like '${qq}%'  <!-- QQ -->
		</if>
	    <if test="mobile != null and mobile != ''">
		      AND mobile like '${mobile}%'  <!-- 手机号码 -->
		</if>
	    <if test="oauth != null and oauth != ''">
		      AND oauth like '${oauth}%'  <!-- 第三方来源 wx weibo alipay -->
		</if>
	    <if test="openid != null and openid != ''">
		      AND openid like '${openid}%'  <!-- 微信openID -->
		</if>
	    <if test="head_pic != null and head_pic != ''">
		      AND head_pic like '${head_pic}%'  <!-- 头像 -->
		</if>
	    <if test="nickname != null and nickname != ''">
		      AND nickname like '${nickname}%'  <!-- 第三方返回昵称 -->
		</if>
	    <if test="level != null and level != ''">
		      AND level like '${level}%'  <!-- 会员等级 -->
		</if>
	    <if test="token != null and token != ''">
		      AND token like '${token}%'  <!-- 用于app 授权类似于session_id -->
		</if>
	    <if test="recommended_code != null and recommended_code != ''">
		      AND recommended_code like '${recommended_code}%'  <!-- 会员推荐码 -->
		</if>
	    <if test="id_card != null and id_card != ''">
		      AND id_card like '${id_card}%'  <!-- 身份证号码 -->
		</if>
	    <if test="real_name != null and real_name != ''">
		      AND real_name like '${real_name}%'  <!-- 真实姓名 -->
		</if>
		<if test="clientid != null and clientid != '' ">
		      AND clientid like '${clientid}%'  <!-- 会员登录时的设备号 -->
		</if>
	</sql>
	
	<!-- ==========================================api接口============================================ -->
	<select id="queryUserInfo" parameterType="Dto"  resultMap="queryForListMap" useCache="false">
	    select 
           t1.user_id,t1.real_name,t1.nickname,t1.level,t1.email,t1.mobile,t1.last_login,t1.id_card,t1.password,t1.is_lock,t1.openid,
           t1.token,t1.head_pic,t1.first_leader,t1.authentication,t2.pay_points,t2.make_over_integral,
           t2.total_amount,t2.return_points,t2.count_wallet_quota,t2.due_tc_points,t2.practical_tc_points,
           t2.sqvip,t2.sqamount,t2.sqpay,t1.provincial_generation,t1.bank_card,t1.where_it_is,t2.drops
        FROM zjc_users_info t1 
		INNER JOIN zjc_users_account_info t2 on t1.user_id=t2.user_id
         <where>
         	1=1
           <if test="user_id != null and user_id != '' ">
		  	and t1.user_id = #{user_id} 
		   </if>
		   <if test="open_id != null and open_id != '' ">
		  	and t1.openid = #{open_id} 
		   </if>
		  <if test="mobile != null and mobile != '' ">
		  	and t1.mobile = #{mobile}
		  </if>
		  <if test="password != null and password != '' ">
		  	and t1.password = #{password}
		  </if>
		</where>	
	</select>
	
	<select id="queryUserInfoXpt" parameterType="Dto"  resultMap="queryForListMap" useCache="false">
	    select 
           t1.user_id,t1.real_name,t1.nickname,t1.level,t1.email,t1.mobile,t1.last_login,t1.id_card,t1.password,t1.is_lock,
           t1.token,t1.head_pic,t1.first_leader,t1.authentication,t2.pay_points,t2.make_over_integral,
           t2.total_amount,t2.return_points,t2.count_wallet_quota,t2.due_tc_points,t2.practical_tc_points,
           t2.sqvip,t2.sqamount,t2.sqpay
        FROM zjc_users_info t1 
		INNER JOIN zjc_users_account_info t2 on t1.user_id=t2.user_id
         <where>
         	t1.xpt=#{xpt} 
           
		  <if test="mobile != null and mobile != '' ">
		  	and t1.mobile = #{mobile}
		  </if>
		</where>	
	</select>
	
	
	<!-- 根据user_id查询会员结算中心信息 -->
	<select id="querySettleInfo" parameterType="Dto"  resultMap="queryForListMap" useCache="false">
	    select 
           t1.user_id,t1.real_name,t2.settlement_center,t1.is_lock
        FROM zjc_users_info t1 
		INNER JOIN zjc_users_account_info t2 on t1.user_id=t2.user_id
         <where>
		  t1.user_id = #{user_id}
		</where>	
	</select>
	
	<!-- 根据Dto返回分享数据对象集合 -->
	<select id="shareInfoListPage" parameterType="Dto"  resultType="ZjcUsersInfoPO" useCache="false">
	    SELECT
			user_id, nickname, real_name, mobile, is_qualified_member	
		FRoM zjc_users_info 
		<where>
			<if test="first_leader != null ">
		        AND first_leader = #{first_leader}  <!-- 上级 -->
			</if>
		    <if test="is_qualified_member != null ">
		        AND is_qualified_member = #{is_qualified_member}  <!-- 是否合格会员(0-否，1-是) -->
			</if>
		</where>
		order by user_id desc
	</select>
	
	<!-- 根据Dto返回分享数据对象集合 -->
	<select id="shareInfoListPage1" parameterType="Dto"  resultMap="queryForListMap" useCache="false">
	    SELECT
			user_id,nickname,mobile,is_qualified_member
		FRoM zjc_users_info 
		<where>
			<if test="first_leader != null ">
		        AND first_leader = #{first_leader}  <!-- 上级 -->
			</if>
		    <if test="is_qualified_member != null ">
		        AND is_qualified_member = #{is_qualified_member}  <!-- 是否合格会员(0-否，1-是) -->
			</if>
		</where>
		order by user_id desc
	</select>
	
	<!-- 查找用户支付密码 -->
	<select id="checkPayPsd" parameterType="Dto" resultType="ZjcUsersInfoPO" useCache="false">
		select pay_password, user_id, mobile from zjc_users_info 
		<where>
			<include refid="equal2"></include>
		</where> 
	</select>
	
	<!-- 查找我的下级 -->
	<select id="myApprenticePage" parameterType="Dto" resultType="Dto" useCache="false">
			SELECT a.user_id,
			a.recommended_code,
			a.real_name,
			a.mobile,
			a.is_qualified_member,a.type,a.reg_time,(CASE  WHEN a.commission is null THEN '0' ELSE a.commission	END) as commission
			 from (SELECT 
            t.user_id,
			t.recommended_code,
			t.real_name,
			t.mobile,
			(
			CASE t.is_qualified_member WHEN  (t.is_qualified_member = 1 AND t.is_lock = 0) 
			THEN
				  t.is_qualified_member = 1
			WHEN  (t.is_qualified_member = 0 or (t.is_qualified_member = 1 and t.is_lock = 1))
			THEN
				  t.is_qualified_member = 0
			END
			) AS is_qualified_member,(CASE  WHEN t.user_id is null 
			THEN t.user_id
        ELSE '1'	END) as type,t.reg_time,t3.commission
		from zjc_users_info t
        left JOIN zjc_provincial_generation t1 on t.user_id=t1.user_id
        LEFT JOIN (SELECT t4.user_id,sum(t5.commission) as commission  from zjc_order t4 INNER JOIN zjc_provincial_generation t5 on t4.order_id=t5.order_id and t5.user_id=#{user_id} GROUP BY t4.user_id)t3 on t.user_id=t3.user_id
		where
			1=1
		     <if test="type == 0 ">
		        AND t.first_leader = #{user_id} and t.is_lock = 0 <!-- 上级 -->
			</if>
			<if test="type == 1 ">
		        AND (t.first_leader  = #{user_id} and t.is_qualified_member = 1 and t.is_lock = 0)   <!-- 合格 -->
			</if>
			<if test="type == 2 ">
		        AND (t.first_leader  = #{user_id} and t.is_qualified_member = 0 and t.is_lock = 0)   <!--  不合格 -->
			</if>
			GROUP BY t.user_id,t.recommended_code,t.real_name,t.mobile,t.is_qualified_member,type,t.reg_time
		UNION all 	
			 SELECT
      t.user_id,
			t.recommended_code,
			t.real_name,
			t.mobile,
			(
			CASE t.is_qualified_member WHEN  (t.is_qualified_member = 1 AND t.is_lock = 0) 
			THEN
				  t.is_qualified_member = 1
			WHEN  (t.is_qualified_member = 0 or (t.is_qualified_member = 1 and t.is_lock = 1))
			THEN
				  t.is_qualified_member = 0
			END
			) AS is_qualified_member,(CASE  WHEN t.user_id is null 
			THEN t.user_id
   ELSE '2'	END) as type,t.reg_time,t3.commission
		from zjc_users_info t
        left JOIN zjc_provincial_generation t1 on t.user_id=t1.user_id
        LEFT JOIN (SELECT t4.user_id,sum(t5.commission) as commission  from zjc_order t4 INNER JOIN zjc_provincial_generation t5 on t4.order_id=t5.order_id and t5.user_id=#{user_id} GROUP BY t4.user_id)t3 on t.user_id=t3.user_id
		where
			1=1
		      <if test="type == 0 ">
		        AND t.second_leader = #{user_id} and t.is_lock = 0<!-- 上级 -->
			</if>
			<if test="type == 1 ">
		        AND  (t.second_leader  = #{user_id} and t.is_qualified_member = 1 and t.is_lock = 0 ) <!-- 合格 -->
			</if>
			<if test="type == 2 ">
		        AND  ( t.second_leader  = #{user_id} and t.is_qualified_member = 0 and t.is_lock = 0) <!-- 不合格 -->
			</if>
			GROUP BY t.user_id,t.recommended_code,t.real_name,t.mobile,t.is_qualified_member,type,t.reg_time
      ) a
      where a.user_id is not null
      order by a.user_id desc
	</select>
	
	<!-- 统计 -->
	<select id="counter" parameterType="Dto" resultType="Dto" useCache="false">
		select 
		COUNT(CASE WHEN is_lock=0 THEN user_id END) as 'total',
		COUNT(CASE WHEN is_qualified_member = 1 and is_lock=0 THEN user_id END) as 'qualified',
		COUNT(CASE WHEN is_qualified_member = 0 and is_lock=0 THEN user_id END) as 'unQualified'
		from zjc_users_info 
		<where>
			<if test="user_id != null and user_id != ''">
		        AND first_leader = #{user_id} or second_leader = #{user_id}
			</if>
		</where>
	</select>
	
	<!-- 表字段 -->
	<sql id="column3">
		  mobile,  <!-- 手机号码 -->
		  real_name,  <!-- 第三方返回昵称 -->
		  recommended_code,  <!-- 会员推荐码 -->
		  is_qualified_member  <!-- 是否合格会员(0-否，1-是) -->
	</sql>
	<!-- 查找一级上级 -->
	<select id="getFirstLeader" parameterType="ZjcUsersInfoPO" resultType="ZjcUsersInfoPO" useCache="false">
		select user_id, first_leader, qualified_member
		from zjc_users_info
		where user_id = #{first_leader} and is_lock = 0
	</select>
	<!-- 查找二级上级 -->
	<select id="getSecondLeader" parameterType="ZjcUsersInfoPO" resultType="ZjcUsersInfoPO" useCache="false">
		select user_id, first_leader, qualified_member
		from zjc_users_info
		where user_id = #{second_leader} and is_lock = 0
	</select>
	
	<insert id="insert1" parameterType="ZjcUsersInfoPO">
		INSERT INTO zjc_users_info (
		    <include refid="column" />
		)
		VALUES (
		    #{user_id, jdbcType=INTEGER},  <!-- 表id -->
		    #{email, jdbcType=VARCHAR},  <!-- 邮件 -->
		    #{password, jdbcType=VARCHAR},  <!-- 密码 -->
		    #{pay_password, jdbcType=VARCHAR},  <!-- 支付密码 -->
		    #{sex, jdbcType=INTEGER},  <!-- 0 保密 1 男 2 女 -->
		    #{birthday, jdbcType=INTEGER},  <!-- 生日 -->
		    #{reg_time, jdbcType=VARCHAR},  <!-- 注册时间 -->
		    #{last_login, jdbcType=VARCHAR},  <!-- 最后登录时间 -->
		    #{last_ip, jdbcType=VARCHAR},  <!-- 最后登录ip -->
		    #{qq, jdbcType=VARCHAR},  <!-- QQ -->
		    #{mobile, jdbcType=VARCHAR},  <!-- 手机号码 -->
		    #{mobile_validated, jdbcType=INTEGER},  <!-- 是否验证手机 -->
		    #{oauth, jdbcType=VARCHAR},  <!-- 第三方来源 wx weibo alipay -->
		    #{openid, jdbcType=VARCHAR},  <!-- 微信openID -->
		    #{openid_s, jdbcType=VARCHAR},  <!-- 微信openID -->
		    #{head_pic, jdbcType=VARCHAR},  <!-- 头像 -->
		    #{email_validated, jdbcType=INTEGER},  <!-- 是否验证电子邮箱 -->
		    #{nickname, jdbcType=VARCHAR},  <!-- 第三方返回昵称 -->
		    #{level, jdbcType=VARCHAR},  <!-- 会员等级 -->
		    #{discount, jdbcType=NUMERIC},  <!-- 会员折扣，默认1不享受 -->
		    #{is_distribut, jdbcType=INTEGER},  <!-- 是否为分销商 0 否 1 是 -->
		    #{first_leader, jdbcType=INTEGER},  <!-- 上级 -->
		    #{second_leader, jdbcType=INTEGER},  <!-- 上上级 -->
		    #{third_leader, jdbcType=INTEGER},  <!-- 第三个上级 -->
		    #{token, jdbcType=VARCHAR},  <!-- 用于app 授权类似于session_id -->
		    #{token_validate_time, jdbcType=INTEGER},  <!-- token有效期 -->
		    #{recommended_code, jdbcType=VARCHAR},  <!-- 会员推荐码 -->
		    #{is_qualified_member, jdbcType=INTEGER},  <!-- 是否合格会员(0-否，1-是) -->
		    #{id_card, jdbcType=VARCHAR},  <!-- 身份证号码 -->
		    #{real_name, jdbcType=VARCHAR},  <!-- 真实姓名 -->
		    #{qualified_member, jdbcType=INTEGER},  <!-- 合格会员数 -->
		    #{store_id, jdbcType=INTEGER},  <!-- 店铺ID -->
		    #{is_open_min_pay, jdbcType=INTEGER},  <!-- 是否打开小额免密支付 -->
		    #{authentication, jdbcType=INTEGER},  <!-- 是否实名认证 -->
		    #{is_lock, jdbcType=INTEGER},  <!-- 是否被锁定冻结(0表示启用，1表示冻结锁定) -->
		    #{clientid, jdbcType=VARCHAR},  <!-- 会员登录时的设备号 -->
		    #{src_client, jdbcType=INTEGER}  <!-- 会员登录时的设备类型：android 1 ,IOS 2,weixin 3 -->
		)
	</insert>
	
	<select id="selectByMobile" parameterType="Dto" resultType="ZjcUsersInfoPO">
		select * from zjc_users_info where mobile = #{mobile}
	</select>
	<!-- 统计会员的直推会员数 -->
	<select id="count_first" parameterType="ZjcUsersInfoPO" resultType="Integer">
		select count(1) from zjc_users_info where first_leader = #{user_id}
	</select>
	
	<select id="queryUserListPage" parameterType="Dto" resultMap="queryForListMap2" useCache="false">
		select 
			t1.user_id,
			t1.nickname,
			t1.mobile,
			t1.is_distribut,
			t2.total_amount,
			t2.pay_points,
			t2.make_over_integral,
			t1.qualified_member,
			t1.is_qualified_member,
			t2.settlement_center,
			t1.reg_time,
			t1.first_leader
		from zjc_users_info t1 inner join zjc_users_account_info t2 on t1.user_id = t2.user_id
		<where>
		1=1
			<if test="user_id != null and user_id != ''">
				AND t1.user_id = #{user_id}
			</if>
			<if test="real_name != null and real_name != ''">
				AND t1.real_name = #{real_name}
			</if>
			<if test="nickname != null and nickname != ''">
		     	AND t1.nickname like '%${nickname}%'  <!-- 第三方返回昵称 -->
		   </if>
			<if test="mobile != null and mobile != ''">
				AND t1.mobile = #{mobile}
			</if>
			<if test="id_card != null and id_card != ''">
				AND t1.id_card = #{id_card}
			</if>
			<if test="settlement_center != null and settlement_center!=''">
			    AND t2.settlement_center = #{settlement_center}  <!-- 是否开通了结算中心(0-否，1-是) -->
			</if>
			<if test="is_distribut != null and is_distribut != ''">
			    AND t1.is_distribut = #{is_distribut}  <!-- 是否为分销商 0 否 1 是 -->
			</if>
		</where>
		order by t1.user_id desc
	</select>
	
	<select id="queryUserJuniorList" parameterType="Dto" resultType="Dto">
		select 
			t1.user_id,
			t1.real_name,
			t1.nickname,
			t1.mobile,
			t2.total_amount,
			t2.pay_points,
			t2.make_over_integral,
			t1.qualified_member,
			t1.is_qualified_member,
			t2.settlement_center,
			t1.reg_time,
			t1.first_leader,
			t1.is_distribut
		from zjc_users_info t1 inner join zjc_users_account_info t2 on t1.user_id = t2.user_id
		where t1.first_leader = #{user_id}
		order by t1.user_id desc
	</select>
	
	<select id="getUserDetial" parameterType="Dto" resultType="Dto">
		select 
			t1.user_id,
			t1.nickname,
			t2.total_amount,
			t2.pay_points,
			t2.make_over_integral,
			t1.`level`,
			t1.real_name,
			t1.head_pic,
			t1.first_leader,
			t1.id_card,
			t1.openid,
			t1.mobile,
			t1.is_lock,
			t1.settlement_center_tc,
			t2.settlement_center
		from zjc_users_info t1 inner join zjc_users_account_info t2 on t1.user_id = t2.user_id
		where t1.user_id = #{user_id}
		order by t1.user_id desc
	</select>
	
	<select id="selectByUserID" parameterType="ZjcSellerInfoPO" resultType="Dto">
		select t1.user_id,t1.nickname,t2.total_amount,t2.pay_points,t2.make_over_integral,t1.level,t1.real_name,
		t1.head_pic,t1.id_card,t1.mobile,t1.is_lock,t2.has_terminal
		 from zjc_users_info t1 left join zjc_users_account_info t2 on t1.user_id = t2.user_id
		 where t1.mobile = #{mobile}
	</select>
	<!-- 根据token查询用户id,以及token有效期 -->
	<select id="selectUserToken" parameterType="Dto" resultType="ZjcUsersInfoPO">
		SELECT
		    t.user_id,t.token_validate_time,t.is_lock
		FROM zjc_users_info t
		<where>
		    t.token = #{token}
		</where>		
	</select>
		
	<select id="getSellerAccountInfo" parameterType="Dto" resultType="Dto">
		select t1.store_id, t1.user_id, t1.nickname, t2.pay_points, t2.make_over_integral, t1.level,
		t1.real_name, t1.head_pic, t1.id_card, t1.mobile, t2.is_lock, t2.has_terminal, t2.total_amount 
		from zjc_seller_info t1 left join zjc_users_account_info t2 on t1.user_id = t2.user_id 
		left join zjc_users_info t3 on t1.mobile = t3.mobile
		where t1.store_id = #{store_id}
	</select>
	
	<select id="selectByOpenid" parameterType="Dto" resultType="ZjcUsersInfoPO">
		SELECT
		    <include refid="column" />
		FROM zjc_users_info
		<where>
			 openid = #{openid}
		</where>		
	</select>
	
	<!-- 根据省id查询代理数据 -->
	<select id="getAgentList" parameterType="Dto"  resultMap="queryForListMap" useCache="false">
	    select 
           t1.user_id
        FROM zjc_users_info t1 
         <where>
		   <if test="province_id != null and province_id != '' ">
		  	and t1.provincial_generation = #{province_id} 
		   </if>
		</where>	
	</select>
	
	<select id="selectByProvincialGeneration" parameterType="Dto" resultType="ZjcUsersInfoPO">
		SELECT
		    <include refid="column" />
		FROM zjc_users_info
		<where>
			 provincial_generation = #{provincial_generation}
		</where>		
	</select>
	
</mapper>
